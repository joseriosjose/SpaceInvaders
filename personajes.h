#include<graphics.h>
#include <stdlib.h>
#include <stdio.h>
#include <iostream>
#include <math.h>
#include <vector>
#include "figuras.h"
using namespace std;
//matrices con la declaracion de los personajes
int tC=3;

char JUGADOR[3][9]={

  {'0','0','0','0','1','0','0','0','0'},
  {'0','1','1','1','1','1','1','1','0'},
  {'1','1','1','1','1','1','1','1','1'}
};
char NAVE[7][16]{
{'0','0','0','0','0','0','1','1','1','1','0','0','0','0','0','0'},
{'0','0','0','1','1','1','1','1','1','1','1','1','1','0','0','0'},
{'0','0','1','1','1','1','1','1','1','1','1','1','1','1','0','0'},
{'0','1','1','0','1','1','0','1','1','0','1','1','0','1','1','0'},
{'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
{'0','0','1','1','1','0','0','0','0','0','0','1','1','1','0','0'},
{'0','0','0','1','0','0','0','0','0','0','0','0','1','0','0','0'}

};
char BALA[3][9]={

  {'0','0','0','0','1','0','0','0','0'},
  {'0','0','0','1','0','1','0','0','0'},
  {'0','0','1','0','0','0','1','0','0'},
};
char BALAENE[3][9]={

  {'0','0','1','0','0','0','1','0','0'},
  {'0','0','0','1','0','1','0','0','0'},
  {'0','0','0','0','1','0','0','0','0'},
};
char N1A[8][8]{
{'0','0','0','1','1','0','0','0'},
{'0','0','1','1','1','1','0','0'},
{'0','1','1','1','1','1','1','0'},
{'1','1','0','1','1','0','1','1'},
{'1','1','1','1','1','1','1','1'},
{'0','0','1','0','0','1','0','0'},
{'0','1','0','1','1','0','1','0'},
{'1','0','1','0','0','1','0','1'},
};
char N2A[8][11]{
{'0','0','1','0','0','0','0','0','1','0','0'},
{'1','0','0','1','0','0','0','1','0','0','1'},
{'1','0','1','1','1','1','1','1','1','0','1'},
{'1','1','1','0','1','1','1','0','1','1','1'},
{'1','1','1','1','1','1','1','1','1','1','1'},
{'0','1','1','1','1','1','1','1','1','1','0'},
{'0','0','1','0','0','0','0','0','1','0','0'},
{'0','1','0','0','0','0','0','0','0','1','0'},
};
char N3A[8][14]{
{'0','0','0','0','0','1','1','1','1','0','0','0','0','0'},
{'0','0','1','1','1','1','1','1','1','1','1','1','0','0'},
{'0','1','1','1','1','1','1','1','1','1','1','1','1','0'},
{'0','1','1','1','0','0','1','1','0','0','1','1','1','0'},
{'0','1','1','1','1','1','1','1','1','1','1','1','1','0'},
{'0','0','0','0','1','1','0','0','1','1','0','0','0','0'},
{'0','0','1','1','0','0','1','1','0','0','1','1','0','0'},
{'1','1','0','0','0','0','0','0','0','0','0','0','1','1'},
};
char N1B [8][8]={
    {'0','0','0','1','1','0','0','0'},
    {'0','0','1','1','1','1','0','0'},
    {'0','1','1','1','1','1','1','0'},
    {'1','1','0','1','1','0','1','1'},
    {'1','1','1','1','1','1','1','1'},
    {'0','1','0','1','1','0','1','0'},
    {'1','0','0','0','0','0','0','1'},
    {'0','1','0','0','0','0','1','0'}
};
char N2B [8][11]={
  {'0','0','1','0','0','0','0','0','1','0','0'},
  {'0','0','0','1','0','0','0','1','0','0','0'},
  {'0','0','1','1','1','1','1','1','1','0','0'},
  {'0','1','1','0','1','1','1','0','1','1','0'},
  {'1','1','1','1','1','1','1','1','1','1','1'},
  {'1','0','1','1','1','1','1','1','1','0','1'},
  {'1','0','1','0','0','0','0','0','1','0','1'},
  {'0','0','0','1','1','0','1','1','0','0','0'}
};
char N3B [8][12]={
 {'0','0','0','0','1','1','1','1','0','0','0','0'},
 {'0','1','1','1','1','1','1','1','1','1','1','0'},
 {'1','1','1','1','1','1','1','1','1','1','1','1'},
 {'1','1','1','0','0','1','1','0','0','1','1','1'},
 {'1','1','1','1','1','1','1','1','1','1','1','1'},
 {'0','0','1','1','1','0','0','1','1','1','0','0'},
 {'0','1','1','0','0','1','1','0','0','1','1','0'},
 {'0','0','1','1','0','0','0','0','1','1','0','0'}
};


class personaje{
public:

     int tipo;
     bool estado;
     int x,y,n,m,color;
     Pila puntos;

    void pintar_personaje(int x,int y);
    void morirboos();
    personaje(){};
    personaje(int tipo_,int color_,int x_,int y_,bool estado_){
        x=x_;
        y=y_;
        tipo=tipo_;
        estado=estado_;
        color=color_;
     if(estado==true){
         if(tipo==1){        n=8;m=8;
     }else if(tipo==2){  n=8;m=11;
     }else if(tipo==3){  n=8;m=12;
     }else if(tipo==4){  n=7;m=16;
     }else if(tipo==5){  n=3;m=9;
     }else if(tipo==7){  n=3;m=9;
     }else if(tipo==8){  n=3;m=9;}

     }else{

        if(tipo==1){        n=8;m=8;
     }else if(tipo==2){  n=8;m=11;
     }else if(tipo==3){  n=8;m=14;
     }else if(tipo==4){  n=7;m=16;
     }else if(tipo==5){  n=3;m=9;
     }else if(tipo==7){  n=3;m=9;
     }else if(tipo==8){  n=3;m=9;}

     }


     pintar_personaje(x,y);

    };

};

void personaje:: pintar_personaje(int xe,int ye){

 char nuevo[n][m];
    for(int f=0;f<n;f++){
    for(int g=0;g<m;g++){

         if(estado==true){
            if(tipo==1){     nuevo[f][g]=N1B[f][g];
            }else if(tipo==2){  nuevo[f][g]=N2B[f][g];
            }else if(tipo==3){  nuevo[f][g]=N3B[f][g];
            }else if(tipo==4){  nuevo[f][g]=NAVE[f][g];
            }else if(tipo==5){  nuevo[f][g]=JUGADOR[f][g];
            }else if(tipo==7){  nuevo[f][g]=BALA[f][g];
            }else if(tipo==8){  nuevo[f][g]=BALAENE[f][g];}

         }else{
           if(tipo==1){     nuevo[f][g]=N1A[f][g];
           }else if(tipo==2){  nuevo[f][g]=N2A[f][g];
           }else if(tipo==3){  nuevo[f][g]=N3A[f][g];
           }else if(tipo==4){  nuevo[f][g]=NAVE[f][g];
           }else if(tipo==5){  nuevo[f][g]=JUGADOR[f][g];
           }else if(tipo==7){  nuevo[f][g]=BALA[f][g];
           }else if(tipo==8){  nuevo[f][g]=BALAENE[f][g];}
         }
            }}

int xtem=xe;
for(int f=0;f<n;f++)
{     xe=xtem;
       ye=ye+3;
    for(int g=0;g<m;g++){
        switch(nuevo[f][g]){
          case '0':
              xe=xe+3;
          break;
          case '1':
           cuadropixel2(xe,ye,color);
           xe=xe+3;
           break;
        }}}

}

void personaje::morirboos(){
Pila temp;
int xtem=x,ytem=y,xe=x;
for(int f=0;f<n;f++)
{     xe=xtem;
       ytem=ytem+3;
    for(int g=0;g<m;g++){
        switch(NAVE[f][g]){
          case '0':
              xe=xe+3;
          break;
          case '1':
           juntaPilas(cuadropixel(xe,ytem),temp);
           xe=xe+3;
           break;
        }}}
      int s[2]={2,2};
       // escalado(int s[],Pila pila,int xc, int yc)
   temp=escalado(s,temp,x+20,y+10);
   paint(temp,color);
}

